(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const f="/meoweather-/assets/sun-D3G25AOW.png",q="/meoweather-/assets/moon-0eF3UEJh.png",M="/meoweather-/assets/sunny-CoTVIi0D.png",x="/meoweather-/assets/night-BNbCQXyO.png",u="/meoweather-/assets/cloud(1)-Cnn1-Xcl.png",l="/meoweather-/assets/clouds-BquM07AP.png",h="/meoweather-/assets/heavy-rain-D-WXYn-x.png",B="/meoweather-/assets/cloudy-BvACNZ_5.png",E="/meoweather-/assets/rainy-night-DsdAgmBa.png",m="/meoweather-/assets/storm-NZLvc6Gw.png",p="/meoweather-/assets/snow-BmLgD2YP.png",g="/meoweather-/assets/mist-lQBXpyhH.png",N="/meoweather-/assets/no-results-BcYmTK8I.png";let s=document.querySelector(".searchBar input"),O=document.querySelector(".searchBar i"),w=document.querySelector(".weather-des-card .weather-desc"),y=document.querySelector(".temperature span .value"),S=document.querySelector(".wind-speed .value"),v=document.querySelector(".humidity .value"),a=document.querySelector(".weatherIcon img"),C=document.querySelector(".sunRise span .value"),I=document.querySelector(".sunSet span .value"),T=[y,S,v,C,I];const P="95029b4db775c014e5313dac3b748e3f",A={"01d":f,"01n":q,"02d":M,"02n":x,"03d":u,"03n":u,"04d":l,"04n":l,"09d":h,"09n":h,"10d":B,"10n":E,"11d":m,"11n":m,"13d":p,"13n":p,"50d":g,"50n":g};O.addEventListener("click",L);s.addEventListener("keydown",o=>{o.key==="Enter"&&L()});function L(){let o=s.value.trim();o&&(b(o),window.localStorage.setItem("city",o))}function b(o){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${o}&units=metric&appid=${P}`).then(e=>e.json()).then(e=>{if(!e||!e.weather||!e.main)throw new Error("Invalid data");w.textContent=`hi, ${e.weather[0].description} today ðŸ˜Š`,a.src=A[e.weather[0].icon]||f,a.alt=e.weather[0].description,y.textContent=Math.round(e.main.temp)+" Â°C",S.textContent=Math.round(e.wind.speed*3.6)+" Km/h",v.textContent=e.main.humidity+"%";let r=e.sys.sunrise,i=e.sys.sunset,t=e.timezone,n=new Date((r+t)*1e3),c=new Date((i+t)*1e3);C.textContent=n.getUTCHours().toString().padStart(2,"0")+":"+n.getUTCMinutes().toString().padStart(2,"0"),I.textContent=c.getUTCHours().toString().padStart(2,"0")+":"+c.getUTCMinutes().toString().padStart(2,"0");let d=Date.now()/1e3+t;d>r&&d<i?(document.body.classList.remove("nightMode"),document.body.classList.add("dayMode")):(document.body.classList.add("nightMode"),document.body.classList.remove("dayMode"))}).catch(e=>{w.textContent="we're unable to find the city you entred",a.src=N,T.forEach(r=>{r.textContent="--"})}).finally(()=>{s.focus(),s.setSelectionRange(s.value.length,s.value.length)})}window.addEventListener("load",function(){b(window.localStorage.getItem("city")||"touggourt"),s.value=window.localStorage.getItem("city")});
