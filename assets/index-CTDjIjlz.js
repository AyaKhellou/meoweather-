(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const d="/meoweather-/assets/sun-D3G25AOW.png",B="/meoweather-/assets/moon-0eF3UEJh.png",E="/meoweather-/assets/sunny-CoTVIi0D.png",T="/meoweather-/assets/night-BNbCQXyO.png",h="/meoweather-/assets/cloud(1)-Cnn1-Xcl.png",m="/meoweather-/assets/clouds-BquM07AP.png",p="/meoweather-/assets/heavy-rain-D-WXYn-x.png",N="/meoweather-/assets/cloudy-BvACNZ_5.png",$="/meoweather-/assets/rainy-night-DsdAgmBa.png",g="/meoweather-/assets/storm-NZLvc6Gw.png",f="/meoweather-/assets/snow-BmLgD2YP.png",y="/meoweather-/assets/mist-lQBXpyhH.png",O="/meoweather-/assets/no-results-BcYmTK8I.png";let c=document.querySelector(".searchBar input"),P=document.querySelector(".searchBar button"),l=document.querySelector(".weather-des-card .weather-desc"),w=document.querySelector(".temperature .value"),v=document.querySelector(".wind-speed .value"),S=document.querySelector(".humidity .value"),i=document.querySelector(".weatherIcon img"),C=document.querySelector(".sunRise .value"),L=document.querySelector(".sunSet .value"),I=[w,v,S,C,L];async function A(){const t=await(await fetch("/meoweather-/images/cat.svg")).text();document.getElementById("cat-container").innerHTML=t}A();const b="95029b4db775c014e5313dac3b748e3f",D={"01d":d,"01n":B,"02d":E,"02n":T,"03d":h,"03n":h,"04d":m,"04n":m,"09d":p,"09n":p,"10d":N,"10n":$,"11d":g,"11n":g,"13d":f,"13n":f,"50d":y,"50n":y};P.addEventListener("click",M);c.addEventListener("keydown",e=>{e.key==="Enter"&&M()});function M(){let e=c.value.trim();e&&(x(e),window.localStorage.setItem("city",e))}function x(e){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${b}&units=metric`).then(t=>t.json()).then(t=>{if(!t||!t.weather||!t.main)throw new Error("Invalid data");q(t)}).catch(t=>{l.textContent="City not found!",i.src=O,I.forEach(o=>{o.textContent="!!"})}).finally(()=>{c.focus(),c.setSelectionRange(c.value.length,c.value.length)})}function q(e){c.value=e.name,l.textContent=`${e.weather[0].description} today in ${e.name}, ${e.sys.country}`,i.src=D[e.weather[0].icon]||d,i.alt=e.weather[0].description,w.textContent=Math.round(e.main.temp)+" Â°C",v.textContent=Math.round(e.wind.speed*3.6)+" Km/h",S.textContent=e.main.humidity+"%",U(e)}function U(e){let t=e.sys.sunrise,o=e.sys.sunset,r=e.timezone,n=new Date((t+r)*1e3),s=new Date((o+r)*1e3);C.textContent=n.getUTCHours().toString().padStart(2,"0")+":"+n.getUTCMinutes().toString().padStart(2,"0"),L.textContent=s.getUTCHours().toString().padStart(2,"0")+":"+s.getUTCMinutes().toString().padStart(2,"0"),H(r,t,o)}function H(e,t,o){let r=Date.now()/1e3+e;r>t&&r<o?(document.body.classList.remove("nightMode"),document.body.classList.add("dayMode")):(document.body.classList.add("nightMode"),document.body.classList.remove("dayMode"))}function u(){l.textContent="Allow location access or search for a city ðŸ˜Š",i.src=d,I.forEach(e=>{e.textContent="--"}),document.body.classList.remove("nightMode"),document.body.classList.add("dayMode")}function W(e,t){fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&appid=${b}&units=metric`).then(o=>o.json()).then(o=>{if(!o||!o.weather||!o.main)throw new Error;q(o)}).catch(()=>u())}function K(){if(!navigator.geolocation){u();return}navigator.geolocation.getCurrentPosition(e=>{const{latitude:t,longitude:o}=e.coords;W(t,o)},()=>{u()})}window.addEventListener("load",()=>{const e=localStorage.getItem("city");e?(x(e),c.value=e):K()});
