(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&d(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();console.log("KEY:","95029b4db775c014e5313dac3b748e3f");let r=document.querySelector(".searchBar input"),w=document.querySelector(".searchBar i"),l=document.querySelector(".weather-des-card .weather-desc"),a=document.querySelector(".temperature span .value"),p=document.querySelector(".wind-speed .value"),g=document.querySelector(".humidity .value"),c=document.querySelector(".weatherIcon img"),h=document.querySelector(".sunRise span .value"),m=document.querySelector(".sunSet span .value"),S=[a,p,g,h,m];const v="95029b4db775c014e5313dac3b748e3f",b={"01d":"sun.png","01n":"moon.png","02d":"sunny.png","02n":"night.png","03d":"cloud(1).png","03n":"cloud(1).png","04d":"clouds.png","04n":"clouds.png","09d":"heavy-rain.png","09n":"heavy-rain.png","10d":"cloudy.png","10n":"rainy-night.png","11d":"storm.png","11n":"storm.png","13d":"snow.png","13n":"snow.png","50d":"mist.png","50n":"mist.png"};w.addEventListener("click",f);r.addEventListener("keydown",o=>{o.key==="Enter"&&f()});function f(){let o=r.value.trim();o&&(y(o),window.localStorage.setItem("city",o))}function y(o){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${o}&units=metric&appid=${v}`).then(e=>e.json()).then(e=>{if(!e||!e.weather||!e.main)throw new Error("Invalid data");l.textContent=`hi, ${e.weather[0].description} today ðŸ˜Š`,c.src="images/"+(b[e.weather[0].icon]||"sun.png"),c.alt=e.weather[0].description,a.textContent=Math.round(e.main.temp)+" Â°C",p.textContent=Math.round(e.wind.speed*3.6)+" Km/h",g.textContent=e.main.humidity+"%";let s=e.sys.sunrise,d=e.sys.sunset,t=e.timezone,n=new Date((s+t)*1e3),i=new Date((d+t)*1e3);h.textContent=n.getUTCHours().toString().padStart(2,"0")+":"+n.getUTCMinutes().toString().padStart(2,"0"),m.textContent=i.getUTCHours().toString().padStart(2,"0")+":"+i.getUTCMinutes().toString().padStart(2,"0");let u=Date.now()/1e3+t;u>s&&u<d?(document.body.classList.remove("nightMode"),document.body.classList.add("dayMode")):(document.body.classList.add("nightMode"),document.body.classList.remove("dayMode"))}).catch(e=>{l.textContent="we're unable to find the city you entred",c.src="images/no-results.png",S.forEach(s=>{s.textContent="--"})}).finally(()=>{r.focus(),r.setSelectionRange(r.value.length,r.value.length)})}window.addEventListener("load",function(){y(window.localStorage.getItem("city")||"touggourt"),r.value=window.localStorage.getItem("city")});
