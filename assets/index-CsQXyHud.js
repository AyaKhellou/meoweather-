(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const d="/meoweather-/assets/sun-D3G25AOW.png",B="/meoweather-/assets/moon-0eF3UEJh.png",E="/meoweather-/assets/sunny-CoTVIi0D.png",T="/meoweather-/assets/night-BNbCQXyO.png",h="/meoweather-/assets/cloud(1)-Cnn1-Xcl.png",m="/meoweather-/assets/clouds-BquM07AP.png",g="/meoweather-/assets/heavy-rain-D-WXYn-x.png",N="/meoweather-/assets/cloudy-BvACNZ_5.png",$="/meoweather-/assets/rainy-night-DsdAgmBa.png",p="/meoweather-/assets/storm-NZLvc6Gw.png",f="/meoweather-/assets/snow-BmLgD2YP.png",y="/meoweather-/assets/mist-lQBXpyhH.png",O="/meoweather-/assets/no-results-BcYmTK8I.png";let c=document.querySelector(".searchBar input"),P=document.querySelector(".searchBar button"),l=document.querySelector(".weather-des-card .weather-desc"),w=document.querySelector(".temperature .value"),S=document.querySelector(".wind-speed .value"),v=document.querySelector(".humidity .value"),i=document.querySelector(".weatherIcon img"),C=document.querySelector(".sunRise .value"),L=document.querySelector(".sunSet .value"),I=[w,S,v,C,L];async function A(){const e="/meoweather-/cat.svg";console.log("Fetching SVG from:",e);const t=await fetch(e);console.log("Response status:",t.status);const n=await t.text();console.log("SVG length:",n.length),document.getElementById("cat-container").innerHTML=n}A();const b="95029b4db775c014e5313dac3b748e3f",D={"01d":d,"01n":B,"02d":E,"02n":T,"03d":h,"03n":h,"04d":m,"04n":m,"09d":g,"09n":g,"10d":N,"10n":$,"11d":p,"11n":p,"13d":f,"13n":f,"50d":y,"50n":y};P.addEventListener("click",M);c.addEventListener("keydown",e=>{e.key==="Enter"&&M()});function M(){let e=c.value.trim();e&&(x(e),window.localStorage.setItem("city",e))}function x(e){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${b}&units=metric`).then(t=>t.json()).then(t=>{if(!t||!t.weather||!t.main)throw new Error("Invalid data");q(t)}).catch(t=>{l.textContent="City not found!",i.src=O,I.forEach(n=>{n.textContent="!!"})}).finally(()=>{c.focus(),c.setSelectionRange(c.value.length,c.value.length)})}function q(e){c.value=e.name,l.textContent=`${e.weather[0].description} today in ${e.name}, ${e.sys.country}`,i.src=D[e.weather[0].icon]||d,i.alt=e.weather[0].description,w.textContent=Math.round(e.main.temp)+" Â°C",S.textContent=Math.round(e.wind.speed*3.6)+" Km/h",v.textContent=e.main.humidity+"%",U(e)}function U(e){let t=e.sys.sunrise,n=e.sys.sunset,r=e.timezone,o=new Date((t+r)*1e3),s=new Date((n+r)*1e3);C.textContent=o.getUTCHours().toString().padStart(2,"0")+":"+o.getUTCMinutes().toString().padStart(2,"0"),L.textContent=s.getUTCHours().toString().padStart(2,"0")+":"+s.getUTCMinutes().toString().padStart(2,"0"),H(r,t,n)}function H(e,t,n){let r=Date.now()/1e3+e;r>t&&r<n?(document.body.classList.remove("nightMode"),document.body.classList.add("dayMode")):(document.body.classList.add("nightMode"),document.body.classList.remove("dayMode"))}function u(){l.textContent="Allow location access or search for a city ðŸ˜Š",i.src=d,I.forEach(e=>{e.textContent="--"}),document.body.classList.remove("nightMode"),document.body.classList.add("dayMode")}function G(e,t){fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&appid=${b}&units=metric`).then(n=>n.json()).then(n=>{if(!n||!n.weather||!n.main)throw new Error;q(n)}).catch(()=>u())}function W(){if(!navigator.geolocation){u();return}navigator.geolocation.getCurrentPosition(e=>{const{latitude:t,longitude:n}=e.coords;G(t,n)},()=>{u()})}window.addEventListener("load",()=>{const e=localStorage.getItem("city");e?(x(e),c.value=e):W()});
